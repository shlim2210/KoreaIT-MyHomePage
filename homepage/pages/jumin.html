<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주민등록번호 유효성검사</title>
    <link rel="stylesheet" href="../css/main.css">

</head>
<body>
    <header id="top"></header>
    <main id="content" class="center">
        <form action="#" name="jumin" id="jumin">
            <h2 class="bazzi">-주민번호 유효성검사-</h2>
            <input type="text" id="front" name="front" placeholder="주민번호 앞자리" class="bazzi"> <span class="bazzi white">-</span> <input type="password" id="back" name="back" placeholder="주민번호 뒷자리" class="bazzi"> <input type="button" value="유효성 검사" onclick="press()" class="bazzi white">
        </form>
    </main>
    <script>
        function press() {
            console.log(`입력된 앞자리 번호 : ${front.value}`);
            console.log(`입력된 뒷자리 번호 : ${back.value}`);

            const jumin = front.value+back.value;
            let sum = 0;
            let answer = 0;

            for ( let i=0; i < jumin.length-1; i++){
                if (i < 8){
                    sum += (i+2) * Number(jumin.substring(i,i+1));
                }else if (i >= 8){
                    sum += (i-6) * Number(jumin.substring(i,i+1));
                }
            }

            if (sum % 11 == 1){
                answer =  11 - (sum % 10);
                }else{
                    answer = 11 - (sum % 11);
                }
                console.log(`입력한 주민번호의 마지막자리 숫자 : ${jumin.substring(12)}`);
                console.log(`유효한 마지막자리 숫자 : ${answer}`);

                if (answer === Number(jumin.substring(12))){
                    alert("유효한 주민등록번호입니다.");
                }else{
                    alert("유효하지 않은 주민등록번호입니다.");
                }
        }
    </script>
</body>
</html>